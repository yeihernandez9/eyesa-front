<div class="login-container">
    <mat-card class="login-card">
      <mat-card-header>
        <mat-card-title>Login</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form
        name="form"
        (ngSubmit)="f.form.valid && login()"
        #f="ngForm"
        novalidate
      >
          <mat-form-field class="login-form-field">
            <mat-label>Email</mat-label>
            <input
            matInput
            type="email" 
            placeholder="Enter your email" 
            name="email" 
            [(ngModel)]="form.email"
            required 
            #email="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && email.errors }"
            class="full-width-input">
            
          </mat-form-field>
          @if (email.errors && f.submitted) {
            <div class="invalid-feedback">Email is required!</div>
            }
        
          <mat-form-field appearance="fill" class="login-form-field">
            <mat-label>Password</mat-label>
            <input 
            matInput 
            type="password" 
            placeholder="Enter your password"  
            name="password" 
            [(ngModel)]="form.password"
            required
            minlength="8"
            #password="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && password.errors }"
            class="full-width-input">
            
          </mat-form-field>
          @if (password.errors && f.submitted) {
            <div class="invalid-feedback">
              @if (password.errors['required']) {
              <div>Password is required</div>
              }
              @if (password.errors['minlength']) {
              <div>Password must be at least 6 characters</div>
              }
            </div>
            }
          <div class="button-container">
            <button mat-raised-button color="primary" type="submit">Login</button>
          </div>
          <div class="form-group">
            @if (f.submitted && isLoginFailed) {
            <div class="alert alert-danger" role="alert">
              Login failed: {{ errorMessage }}
            </div>
            }
          </div>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <a routerLink="/register" class="register-link">¿No tienes cuenta? Regístrate aquí</a>
      </mat-card-actions>
    </mat-card>
  </div>
  